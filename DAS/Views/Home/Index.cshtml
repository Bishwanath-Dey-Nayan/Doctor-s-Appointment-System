@model DAS.Models.ViewModel.SearchParam

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using (Html.BeginForm("SearchParam", "Home", FormMethod.Post))
{
    @Html.AntiForgeryToken()

    <div class="form-inline">
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group col-md-3">
            @Html.DropDownList("CityId", null, "Select City", htmlAttributes: new { @class = "form-control col-md-12", id = "chamberId" })
            @Html.ValidationMessageFor(model => model.CityId, "", new { @class = "text-danger" })
        </div>

        <div class="form-group col-md-3">
            <select class="form-control" id="SearchType" name="SearchType">
                <option>Looking For....</option>
                <option value="Doctor">Doctor</option>
                <option value="Blood Donor">Blood Donor</option>
                <option value="Hospital">Hospital</option>
            </select>
        </div>

        <div class="form-group col-md-3">
            <div class="">
                @*@Html.DropDownList("SpecialityId", null, "Select", htmlAttributes: new { @class = "form-control" })*@
                @Html.DropDownList("SpecialityId", new SelectList(string.Empty, "Value", "Text"), "Select", htmlAttributes:new {@class = "form-control" })
                @Html.ValidationMessageFor(model => model.SpecialityId, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group col-md-2">
            <input type="submit" value="Search" class="btn btn-default" />
        </div>
    </div>
}
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
@section Scripts{
        @Scripts.Render("~/bundles/jqueryval")

        <script>
            $('#SearchType').change(function () {

                $('#SpecialityId').empty();

                $.ajax({
                    type: "POST",
                    url: "/home/Getddl_Data",
                    datatype: "Json",
                    data: { filterdata: $('#SearchType').val() },
                    success: function (data) {
                        $.each(data, function (index, value) {

                            $('#SpecialityId').append('<option value="' + value.Id + '">' + value.Name + '</option>');
                        });
                    }
                });
            });
        </script>
    }